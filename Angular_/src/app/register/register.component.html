<div class="login-bg">
  <div class="login">
    <div class="left-portion">
      <img
        src="/assets/images/zebra-loin.png"
        class="image-fluid"
        style="height: 500px; width: 100%"
      />
    </div>
    <form
      [formGroup]="registerForm"
      #form="ngForm"
      (ngSubmit)="onClickLogin()"
      class="right-portion"
    >
      <div style="text-align: end; cursor: pointer">
        <i class="bi bi-x-lg" (click)="close()"></i>
      </div>
      <h1>Register</h1>
      <span style="font-size: small; opacity: 0.7; margin-left: 4px"
        >please enter your details</span
      >

      <div class="row">
        <div class="col mb-2">
          <label for="username" class="form-label mt-2"
            >Username<span style="color: red">*</span></label
          >
          <div class="input-group input-group-sm has-validation">
            <input
              id="username"
              name="username"
              placeholder="Enter username"
              formControlName="username"
              required
              minlength="1"
              class="form-control form-control-sm input-box"
              [class.is-invalid]="
                username.invalid && (username.dirty || username.touched)
              "
            />

            <div
              *ngIf="username.invalid && (username.dirty || username.touched)"
              class="invalid-feedback"
            >
              <div *ngIf="username.errors?.['required']">
                This field is required.
              </div>
              <div *ngIf="username.errors?.['minlength']">
                This field must have at least 1 characters.
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col mb-2">
          <label for="email" class="form-label mt-4"
            >Email<span style="color: red">*</span></label
          >
          <input
            type="email"
            id="email"
            name="email"
            formControlName="email"
            placeholder="example@gmail.com"
            required
            minlength="1"
            maxlength="250"
            class="form-control form-control-sm input-box"
            [class.is-invalid]="email.invalid && (email.dirty || email.touched)"
          />
          <div
            *ngIf="email.invalid && (email.dirty || email.touched)"
            class="invalid-feedback"
          >
            <div *ngIf="email.errors?.['required']">
              This field is required.
            </div>
            <div *ngIf="email.errors?.['minlength']">
              This field must have at least 1 character.
            </div>
            <div *ngIf="email.errors?.['maxlength']">
              This field must have at most 250 characters.
            </div>
            <div
              *ngIf="!email.errors?.['required'] && !email.errors?.['minlength'] && !email.errors?.['maxlength'] && email.errors?.['emailValidator']"
            >
              Invalid email format.
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col mb-2">
          <label for="username" class="form-label mt-2"
            >User Role<span style="color: red">*</span></label
          >
          <div class="input-group input-group-sm has-validation">
            <select
              id="userrole"
              name="userrole"
              formControlName="userrole"
              class="form-control form-control-sm input-box"
            >
              <option value="user" selected>user</option>
              <option value="owner">owner</option>
            </select>
            <!-- [class.is-invalid]="
              userrole.invalid && (userrole.dirty || userrole.touched)
              " -->
            <!-- <div
              *ngIf="userrole.invalid && (userrole.dirty || userrole.touched)"
              class="invalid-feedback"
            >
              <div *ngIf="userrole.errors?.['required']">
                This field is required.
              </div>
              <div *ngIf="userrole.errors?.['minlength']">
                This field must have at least 1 characters.
              </div>
            </div> -->
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col mb-2">
          <label for="phone" class="form-label mt-2"
            >Phone<span style="color: red">*</span></label
          >
          <div class="input-group input-group-sm has-validation">
            <input
              id="phone"
              name="phone"
              placeholder="Enter phone"
              formControlName="phone"
              required
              minlength="10"
              maxlength="10"
              class="form-control form-control-sm input-box"
              [class.is-invalid]="
                phone.invalid && (phone.dirty || phone.touched)
              "
            />

            <div
              *ngIf="phone.invalid && (phone.dirty || phone.touched)"
              class="invalid-feedback"
            >
              <div *ngIf="phone.errors?.['required']">
                This field is required.
              </div>
              <div *ngIf="phone.errors?.['minlength']">
                This field must have 10 characters.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col mb-2">
          <label for="password" class="form-label mt-2"
            >Password<span style="color: red">*</span></label
          >
          <div class="input-group input-group-sm has-validation">
            <input
              [type]="user.showPassword ? 'text' : 'password'"
              id="password"
              name="password"
              placeholder="Enter password"
              formControlName="password"
              required
              minlength="6"
              class="form-control form-control-sm input-box"
              [class.is-invalid]="
                password.invalid && (password.dirty || password.touched)
              "
            />
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="user.showPassword = !user.showPassword"
            >
              <i
                class="bi"
                [ngClass]="{
                  'bi-eye-fill': !user.showPassword,
                  'bi-eye-slash-fill': user.showPassword
                }"
              ></i>
            </button>
            <div
              *ngIf="password.invalid && (password.dirty || password.touched)"
              class="invalid-feedback"
            >
              <div *ngIf="password.errors?.['required']">
                This field is required.
              </div>
              <div *ngIf="password.errors?.['minlength']">
                This field must have at least 06 characters.
              </div>
            </div>
          </div>
        </div>
      </div>

      <button class="login-btn" type="submit">Register</button>
    </form>
  </div>
</div>
